{"version":3,"sources":["meteor://ðŸ’»app/imports/api/collections/Links.js","meteor://ðŸ’»app/imports/api/collections/collections.js","meteor://ðŸ’»app/imports/api/methods/category.js","meteor://ðŸ’»app/imports/api/methods/createLink.js","meteor://ðŸ’»app/imports/api/methods/customer.js","meteor://ðŸ’»app/imports/api/methods/import.js","meteor://ðŸ’»app/imports/api/methods/index.js","meteor://ðŸ’»app/imports/api/methods/invoice.js","meteor://ðŸ’»app/imports/api/methods/item.js","meteor://ðŸ’»app/imports/api/methods/purchase.js","meteor://ðŸ’»app/imports/api/methods/supplier.js","meteor://ðŸ’»app/imports/api/methods/user.js","meteor://ðŸ’»app/imports/api/publications/index.js","meteor://ðŸ’»app/imports/api/publications/links.js","meteor://ðŸ’»app/imports/api/fixtures.js","meteor://ðŸ’»app/server/main.js"],"names":["Mongo","module","link","v","exportDefault","Collection","export","Customer","Category","Item","Supplier","Purchase","Import","Export","Meteor","methods","category.insert","doc","insert","category.find","find","fetch","category.update","update","_id","$set","category.remove","id","remove","check","Links","default","createLink","title","url","String","createdAt","Date","customer.insert","customer.find","customer.update","customer.remove","moment","import.findByDate","date","data","fromDate","toDate","forEach","item","_Item$findOne","_Supplier$findOne","name","findOne","itemId","company","supplierId","push","startup","users","count","user","username","password","email","phone","role","call","err","result","console","log","invoice.number","invoice.insert","soldItems","items","soldItem","remainQty","qty","invoice.find","_Customer$findOne","newDoc","customerName","customerId","it","item.insert","item.find","_Category$findOne","categoryName","categoryId","item.update","item.remove","purchase.add","importDoc","Object","assign","oldPurchase","remains","cost","price","purchase.find","supplier.insert","supplier.find","supplier.update","supplier.remove","Accounts","user.create","createUser","profile","user.update","reset","setPassword","emails","address","user.find","user.remove","publish"],"mappings":"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","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo';\r\n\r\nexport default new Mongo.Collection('links');\r\n","import { Mongo } from \"meteor/mongo\";\r\n\r\nexport const Customer = new Mongo.Collection(\"customers\");\r\nexport const Category = new Mongo.Collection(\"categories\");\r\nexport const Item = new Mongo.Collection(\"items\");\r\nexport const Supplier = new Mongo.Collection(\"suppliers\");\r\nexport const Purchase = new Mongo.Collection(\"purchases\");\r\nexport const Import = new Mongo.Collection(\"imports\");\r\nexport const Export = new Mongo.Collection(\"exports\");\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport { Category } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n  \"category.insert\"(doc) {\r\n    return Category.insert(doc);\r\n  },\r\n  \"category.find\"() {\r\n    return Category.find().fetch();\r\n  },\r\n  \"category.update\"(doc) {\r\n    return Category.update({ _id: doc._id }, { $set: doc });\r\n  },\r\n  \"category.remove\"(id) {\r\n    return Category.remove({ _id: id });\r\n  },\r\n});\r\n","import { Meteor } from 'meteor/meteor';\nimport { check } from 'meteor/check';\nimport Links from '../collections/Links.js';\n\nMeteor.methods({\n  'createLink'(title, url) {\n    check(url, String);\n    check(title, String);\n\n    return Links.insert({\n      url,\n      title,\n      createdAt: new Date(),\n    });\n  },\n});\n","import { Meteor } from \"meteor/meteor\";\r\nimport { Customer } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n  \"customer.insert\"(doc) {\r\n    return Customer.insert(doc);\r\n  },\r\n  \"customer.find\"() {\r\n    return Customer.find().fetch();\r\n  },\r\n  \"customer.update\"(doc) {\r\n    return Customer.update({ _id: doc._id }, { $set: doc });\r\n  },\r\n  \"customer.remove\"(id) {\r\n    return Customer.remove({ _id: id });\r\n  },\r\n});\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport moment from \"moment\";\r\nimport { Import, Item, Supplier } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n  \"import.findByDate\"(date) {\r\n    let data = [];\r\n    let fromDate = moment(date.fromDate, \"DD-MM-YYYY\");\r\n    let toDate = moment(date.toDate, \"DD-MM-YYYY\");\r\n    Import.find().forEach((doc) => {\r\n      let item = doc;\r\n      let date = moment(doc.date, \"DD-MM-YYYY\");\r\n      if (date >= fromDate && date <= toDate) {\r\n        item.name = Item.findOne({ _id: doc.itemId })?.name;\r\n        item.company = Supplier.findOne({ _id: doc.supplierId })?.company;\r\n        data.push(item);\r\n      }\r\n    });\r\n    return data;\r\n  },\r\n});\r\n","import \"./createLink\";\r\nimport \"./customer\";\r\nimport \"./category\";\r\nimport \"./item\";\r\nimport \"./supplier\";\r\nimport \"./purchase\";\r\nimport \"./invoice\";\r\nimport \"./import\";\r\nimport \"./user\";\r\nimport { Meteor } from \"meteor/meteor\";\r\n\r\nMeteor.startup(() => {\r\n  if (Meteor.users.find().count() == 0) {\r\n    let user = {\r\n      username: \"admin\",\r\n      password: \"admin\",\r\n      email: \"admin@admin.com\",\r\n      phone: \"017292912\",\r\n      role: \"admin\",\r\n    };\r\n    Meteor.call(\"user.create\", user, (err, result) => {\r\n      if (result) {\r\n        console.log(\"created user:\", result);\r\n      }\r\n    });\r\n  }\r\n});\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport moment from \"moment\";\r\nimport { Export, Purchase, Item, Customer } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n  \"invoice.number\"() {\r\n    return Export.find().count() + 1;\r\n  },\r\n  \"invoice.insert\"(doc) {\r\n    let soldItems = doc.items;\r\n    Purchase.find().forEach((doc) => {\r\n      soldItems.forEach((soldItem) => {\r\n        if (soldItem._id === doc.itemId) {\r\n          let remainQty = doc.qty - soldItem.qty;\r\n          if (remainQty === 0) {\r\n            Purchase.remove({ _id: doc._id });\r\n          } else {\r\n            Purchase.update({ _id: doc._id }, { $set: { qty: remainQty } });\r\n          }\r\n        }\r\n      });\r\n    });\r\n    return Export.insert(doc);\r\n  },\r\n  \"invoice.find\"(date) {\r\n    let data = [];\r\n    let fromDate = moment(date.fromDate, \"DD-MM-YYYY\");\r\n    let toDate = moment(date.toDate, \"DD-MM-YYYY\");\r\n    Export.find().forEach((doc) => {\r\n      let date = moment(doc.date, \"DD-MM-YYYY\");\r\n      if (date >= fromDate && date <= toDate) {\r\n        let newDoc = doc;\r\n        newDoc.customerName = Customer.findOne({ _id: doc.customerId })?.name;\r\n        let items = [];\r\n        doc.items.forEach((it) => {\r\n          it.name = Item.findOne({ _id: it._id })?.name;\r\n          items.push(it);\r\n        });\r\n        newDoc.items = items;\r\n        data.push(newDoc);\r\n      }\r\n    });\r\n    console.log(\"data:\", data);\r\n    return data;\r\n  },\r\n});\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport { Item, Category } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n  \"item.insert\"(doc) {\r\n    return Item.insert(doc);\r\n  },\r\n  \"item.find\"() {\r\n    let data = [];\r\n    Item.find()\r\n      .fetch()\r\n      .forEach((it) => {\r\n        it.categoryName = Category.findOne({ _id: it.categoryId })?.name;\r\n        data.push(it);\r\n      });\r\n    return data;\r\n  },\r\n  \"item.update\"(doc) {\r\n    return Item.update({ _id: doc._id }, { $set: doc });\r\n  },\r\n  \"item.remove\"(id) {\r\n    return Item.remove({ _id: id });\r\n  },\r\n});\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport { Purchase, Import, Item } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n  \"purchase.add\"(doc) {\r\n    let importDoc = Object.assign({}, doc);\r\n    let oldPurchase = Purchase.findOne({ itemId: doc.itemId });\r\n    if (!oldPurchase) {\r\n      importDoc.remains = 0;\r\n      Import.insert(importDoc);\r\n      return Purchase.insert(doc);\r\n    } else {\r\n      importDoc.remains = oldPurchase.qty;\r\n      Import.insert(importDoc);\r\n      oldPurchase.qty += doc.qty;\r\n      oldPurchase.cost = doc.cost;\r\n      oldPurchase.price = doc.price;\r\n      oldPurchase.date = doc.date;\r\n      return Purchase.update({ _id: oldPurchase._id }, { $set: oldPurchase });\r\n    }\r\n  },\r\n  \"purchase.find\"() {\r\n    let data = [];\r\n    Purchase.find().forEach((doc) => {\r\n      let item = doc;\r\n      item.name = Item.findOne({ _id: doc.itemId })?.name;\r\n      data.push(item);\r\n    });\r\n    return data;\r\n  },\r\n});\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport { Supplier } from \"../collections/collections\";\r\n\r\nMeteor.methods({\r\n    \"supplier.insert\"(doc) {\r\n        return Supplier.insert(doc);\r\n    },\r\n    \"supplier.find\"() {\r\n        return Supplier.find().fetch();\r\n    },\r\n    \"supplier.update\"(doc) {\r\n        return Supplier.update({ _id: doc._id }, { $set: doc });\r\n    },\r\n    \"supplier.remove\"(id) {\r\n        return Supplier.remove({ _id: id });\r\n    },\r\n});\r\n","import { Meteor } from \"meteor/meteor\";\r\nimport { Accounts } from \"meteor/accounts-base\";\r\nMeteor.methods({\r\n  \"user.create\"(doc) {\r\n    return Accounts.createUser({\r\n      username: doc.username,\r\n      password: doc.password,\r\n      email: doc.email,\r\n      profile: {\r\n        phone: doc.phone,\r\n        role: doc.role,\r\n      },\r\n    });\r\n  },\r\n  \"user.update\"(doc) {\r\n    if (doc.reset) {\r\n      Accounts.setPassword(doc._id, doc.password);\r\n    }\r\n    let emails = Meteor.users.findOne({ _id: doc._id }).emails;\r\n    emails[0].address = doc.email;\r\n    return Meteor.users.update(\r\n      { _id: doc._id },\r\n      {\r\n        $set: {\r\n          username: doc.username,\r\n          emails: emails,\r\n          profile: {\r\n            phone: doc.phone,\r\n            role: doc.role,\r\n          },\r\n        },\r\n      }\r\n    );\r\n  },\r\n  \"user.find\"() {\r\n    let data = [];\r\n    Meteor.users\r\n      .find()\r\n      .fetch()\r\n      .forEach((it) => {\r\n        let doc = {\r\n          _id: it._id,\r\n          username: it.username,\r\n          email: it.emails[0].address,\r\n          phone: it.profile.phone,\r\n          role: it.profile.role,\r\n        };\r\n        data.push(doc);\r\n      });\r\n    return data;\r\n  },\r\n  \"user.remove\"(id) {\r\n    return Meteor.users.remove({ _id: id });\r\n  },\r\n});\r\n","import './links'\r\n","import { Meteor } from 'meteor/meteor';\nimport Links from '../collections/Links.js';\n\nMeteor.publish('links', function () {\n  return Links.find();\n});\n","import { Meteor } from 'meteor/meteor';\nimport Links from './collections/Links.js';\n\nMeteor.startup(() => {\n  // if the Links collection is empty\n  if (Links.find().count() === 0) {\n    const data = [\n      {\n        title: 'Do the Tutorial',\n        url: 'https://www.meteor.com/try',\n        createdAt: new Date(),\n      },\n      {\n        title: 'Follow the Guide',\n        url: 'http://guide.meteor.com',\n        createdAt: new Date(),\n      },\n      {\n        title: 'Read the Docs',\n        url: 'https://docs.meteor.com',\n        createdAt: new Date(),\n      },\n      {\n        title: 'Discussions',\n        url: 'https://forums.meteor.com',\n        createdAt: new Date(),\n      },\n    ];\n\n    data.forEach(link => Links.insert(link));\n  }\n});\n","import '../imports/api/fixtures'\r\nimport '../imports/api/methods'\r\nimport '../imports/api/publications'\r\n"]}